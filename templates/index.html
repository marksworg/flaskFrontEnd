<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LFG Post Viewer</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="p-4">
  <h1 class="mb-4">ðŸŽ² Reddit LFG Post Viewer</h1>

  <form method="get" class="row g-3">
    <div class="col-md-4">
      <label for="system" class="form-label">Game System</label>
      <select name="system" id="system" class="form-select">
        {% for system in systems %}
          <option value="{{ system }}" {% if system == selected_system %}selected{% endif %}>{{ system }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="col-md-6">
      <label class="form-label">Available Days</label><br>
      {% for day in days %}
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="day" value="{{ day }}"
                 {% if day in selected_days %}checked{% endif %}>
          <label class="form-check-label">{{ day.capitalize() }}</label>
        </div>
      {% endfor %}
    </div>

    <div class="col-md-2 align-self-end">
      <button type="submit" class="btn btn-primary">Filter</button>
    </div>
  </form>

  <hr class="my-4">

  <h3>{{ results|length }} posts found</h3>

  {% for post in results %}
    <div class="mb-4">
      <h5><a href="{{ post.url }}" target="_blank">{{ post.title }}</a></h5>
      <p>System: {{ post.system }} | Days: {{ post.days|join(', ') }} | Posted: {{ post.created }}</p>
    </div>
  {% endfor %}
</body>
</html>
